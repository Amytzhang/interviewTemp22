<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>快速排序</title>
</head>

<body>
    <script>
        let array = [3, 44, 38, 5, 47, 15, 36, 26, 27, 2, 46, 4, 19, 50, 48]
        const quickSort = (function() {
            //比较函数
            function compare(a, b) {
                if (a === b) return 0;
                return a < b ? -1 : 1;
            };
            //交换
            function swap(array, a, b) {
                [array[a], array[b]] = [array[b], array[a]];
            }
            // 分治函数
            function partition(array, left, right) {
                const refer = array[Math.floor((left + right) / 2)]
                let i = left;
                let j = right;
                while (i <= j) {
                    while (compare(array[i], refer) == -1) {
                        i++
                    }
                    while (compare(array[j], refer) == 1) {
                        j--
                    }
                    if (i <= j) {
                        swap(array, i, j);
                        i++;
                        j--
                    }
                }
                return i;
            }

            function quick(array, left, right) {
                let index
                if (array.length > 1) {
                    index = partition(array, left, right)
                    if (left < index - 1) {
                        quick(array, left, index - 1)
                    }
                    if (index < right) {
                        quick(array, index, right)
                    }
                }
                return array
            }

            return function quickSort(array) {
                return quick(array, 0, array.length - 1)
            }
        })();
        console.log(quickSort(array))
    </script>
</body>

</html>